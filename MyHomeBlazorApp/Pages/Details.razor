@page "/details"
@using MyHome.Models;
@using MyHomeBlazorApp.BlazorData;
@using MyHome;
@using MyHomeBlazorApp.Pages
@inject NavigationManager uriHelper;
@inject BlazorData.DataService DataService;


<h3>Details</h3>
@* <Button>Real Estates Details</Button>
<Button>Devices Details</Button>
<Button>Warranties Details</Button>
<Button>Shop Details</Button> *@
<div class="row">
    <div class="col">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Real Estate ID</th>
                    <th scope="col">Real Estate Name</th>
                    <th scope="col">Real Estate Street Name</th>
                    <th scope="col">Real Estate House Number</th>
                    <th scope="col">RealEstate Extended House Number/Letter</th>
                    <th scope="col">Real Estate City</th>
                    <th scope="col">Real Estate Country</th>
                    <th scope="col">Total Devices</th>
                </tr>
            </thead>
            <tbody>
                @foreach (RealEstate r in DataService.RealEstates)
                {
                    <tr>
                        <td>
                            @r.RealEstateID
                        </td>
                        <td>
                            @r.RealEstateName
                        </td>
                        <td>
                            @r.Address.StreetName
                        </td>
                        <td>
                            @r.Address.HouseNumber
                        </td>
                        <td>
                            @r.Address.HouseNumberExtension
                        </td>
                        <td>
                            @r.Address.City
                        </td>
                        <td>
                            @r.Address.Country
                        </td>
                        <td>
                            @DataService.Devices.Count
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="col">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Real Estate ID</th>
                    <th scope="col">Device ID</th>
                    <th scope="col">Device Name</th>
                    <th scope="col">Device Produser</th>
                    <th scope="col">Device Type</th>
                    <th scope="col">Device Serial Number</th>
                    <th scope="col">Device Model Number</th>
                    <th scope="col">Device IP Adrress</th>
                    <th scope="col">Device MAC Adrress</th>
                    <th scope="col">Device Link To Manual</th>
                    <th scope="col">Device Warranty Expires</th>
                </tr>
            </thead>
            <tbody>
                @foreach (RealEstate r in DataService.RealEstates)
                {
                    @foreach (DeviceProfile d in DataService.Devices)
                    {
                        <tr>
                            <td>
                                @r.RealEstateID
                            </td>
                            <td>
                                @d.DeviceID
                            </td>
                            <td>
                                @d.DeviceName
                            </td>
                            <td>
                                @d.DeviceProduser
                            </td>
                            <td>
                                @d.DeviceType
                            </td>
                            <td>
                                @d.DeviceSerialNumber
                            </td>
                            <td>
                                @d.DeviceModelNumber
                            </td>
                            <td>
                                @d.IpAddress
                            </td>
                            <td>
                                @d.MacAdrress
                            </td>
                            <td>
                            </td>
                            <td>
                                @d.DeviceWarranty.WarrantyEnd.ToShortDateString()
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
<div class="row">
    <div class="col">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Real Estate ID</th>
                    <th scope="col">Device ID</th>
                    <th scope="col">Purchase Date</th>
                    <th scope="col">Warranty Length In Days</th>
                    <th scope="col">Link to Receipt</th>
                    <th scope="col">Extra Warranty/Insurance Length In Days</th>
                    <th scope="col">Link To Extra Warranty/Insurance Reciept</th>
                    <th scope="col">Warranty Ends</th>
                </tr>
            </thead>
            <tbody>
                @foreach (RealEstate r in DataService.RealEstates)
                {
                    @foreach (DeviceProfile d in DataService.Devices)
                    {
                        <tr>
                            <td>
                                @r.RealEstateID
                            </td>
                            <td>
                                @d.DeviceID
                            </td>
                            <td>
                                @d.DeviceWarranty.PurchaseDate.ToShortDateString()
                            </td>
                            <td>
                                @d.DeviceWarranty.WarrantyPeriod.TotalDays
                            </td>
                            <td>
                                @d.DeviceWarranty.ReceiptLink
                            </td>
                            @if (@d.DeviceWarranty.ExtraInsuranceWarrantyLenght.TotalDays == 0)
                            {
                        // there should be a button
                                <td>
                                    There was no extra warranty or insurance added!
                                </td>
                            }
                            else
                            {
                                <td>
                                    @d.DeviceWarranty.ExtraInsuranceWarrantyLenght.TotalDays
                                </td>
                            }
                            @* here should be if statement to check if there was added extra insurance and if yes so provide link to reciept or add button to add link/uppload to insurance *@
                            <td>
                                @d.DeviceWarranty.ExtraInsuranceWarrantyLink
                            </td>
                            <td>
                                @d.DeviceWarranty.WarrantyEnd.ToShortDateString()
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
<div class="row">
    <div class="col">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">Real Estate ID</th>
                    <th scope="col">Device ID</th>
                    <th scope="col">Shop Name</th>
                    <th scope="col">Shop Website Adrress</th>
                    <th scope="col">Shop Phone Number</th>
                    <th scope="col">Shop Street Name</th>
                    <th scope="col">Shop House Number</th>
                    <th scope="col">Shop Extended House Number/Letter</th>
                    <th scope="col">Shop City</th>
                    <th scope="col">Shop Country</th>

                </tr>
            </thead>
            <tbody>
                @foreach (RealEstate r in DataService.RealEstates)
                {
                    @foreach (DeviceProfile d in DataService.Devices)
                    {
                        <tr>
                            <td>
                                @r.RealEstateID
                            </td>
                            <td>
                                @d.DeviceID
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.ShopName
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.ShopWebAddress
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.PhoneNumber
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.Address.StreetName
                            </td>

                            @* here should be if statement to check if there was added extra insurance and if yes so provide link to reciept or add button to add link/uppload to insurance *@
                            <td>
                                @d.DeviceWarranty.Shop.Address.HouseNumber
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.Address.HouseNumberExtension
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.Address.City
                            </td>
                            <td>
                                @d.DeviceWarranty.Shop.Address.Country
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>


@code {

}
